@use "../abstracts" as *;

.hero {
  position: relative;
  overflow: hidden;
  isolation: isolate;
  color: $color-text-light;
  border-bottom: 1px solid $color-border;

  min-height: clamp(18rem, 42vw, 26rem);

  &__bg,
  &__overlay,
  &__fog {
    position: absolute;
    inset: 0;
    pointer-events: none;
  }

  &__bg { z-index: 0; display: block; }
  &__overlay { z-index: 1; }
  &__fog { z-index: 1; }

  &__bg-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
  }

  &__overlay {
    background-image:
      linear-gradient(to bottom, rgba($color-bg-dark, .15), rgba($color-bg-dark, .72)),
      linear-gradient(rgba($color-neon-purple, .10), rgba($color-neon-purple, 0));
    background-blend-mode: normal, multiply;
  }

  &__inner {
    position: relative;
    z-index: 2;

    max-width: 72rem;
    margin-inline: auto;
    padding-block: clamp(1.6rem, 3vw, 2.6rem);
    padding-inline: clamp(1rem, 3vw, 2rem);

    display: grid;
    gap: clamp(1rem, 2.4vw, 1.6rem);

    grid-template-areas:
      "brand"
      "nav";
    text-align: center;
  }

  &__brand {
    grid-area: brand;
    display: grid;
    justify-items: center;
    gap: .8rem;
  }

  &__home { display: inline-flex; }

  &__logo-img {
    width: min(18rem, 60vw);
    height: auto;
    display: block;
  }

  &__title-tag {
    display: grid;
    justify-items: center;
    gap: .5rem;
  }

  &__title {
    margin: 0;
    line-height: 1.05;
  }

  &__title-link {
    color: $color-text-light;
    text-decoration: none;
  }

  &__tagline {
    margin: 0;
    font-family: "Roboto", sans-serif;
    font-size: clamp(1.3rem, 2vw, 1.5rem);
    color: $color-text-muted;
  }

  &__note {
    margin: 0;
    color: $color-text-muted;
  }

  &__nav {
    grid-area: nav;
  }

  &__nav-list {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: clamp(.6rem, 1.6vw, 1.1rem);
    list-style: none;
    margin: 0;
    padding: 0;
  }

  &__nav-list a {
    text-decoration: none;
    color: $color-text-light;
    padding: .35rem .55rem;
    border-radius: .6rem;
  }

  &__nav-list a.active {
    box-shadow: 0 0 0 1px rgba($color-neon-green, .55);
    background: rgba($color-neon-green, .08);
  }

  /* fog */
  &__fog {
    inset: -12% -20%;
    mix-blend-mode: screen;
    filter: blur(1.8rem) saturate(110%);
    will-change: transform;
    background:
      radial-gradient(45% 40% at 22% 35%, rgba($color-fog,.16), transparent 60%),
      radial-gradient(40% 35% at 70% 55%, rgba($color-fog,.12), transparent 62%),
      radial-gradient(35% 30% at 40% 75%, rgba($color-fog,.10), transparent 60%);
    background-repeat: no-repeat;
  }

  &__fog--near { opacity: .32; animation: fog-drift-near 120s linear infinite; }
  &__fog--far  { opacity: .20; animation: fog-drift-far 180s linear infinite; }
}

@media (min-width: $bp-xl) {
  .hero__inner {
    grid-template-columns: 1fr auto;
    grid-template-areas: "brand nav";
    align-items: center;
    text-align: left;
    column-gap: clamp(3rem, 6vw, 6rem);
  }

  .hero__brand {
    justify-items: start;
    grid-auto-flow: column;
    align-items: center;
    column-gap: 1rem;
  }

  .hero__logo-img {
    width: 10rem;
  }

  .hero__title-tag {
    justify-items: start;
  }

  .hero__nav-list {
    justify-content: flex-end;
    flex-wrap: nowrap;
  }
}

@media (prefers-reduced-motion: reduce) {
  .hero__fog { animation: none; }
}

@keyframes fog-drift-near {
  0%   { transform: translate3d(0, 0, 0) scale(1.05); }
  50%  { transform: translate3d(-4rem, -.5rem, 0) scale(1.06); }
  100% { transform: translate3d(0, 0, 0) scale(1.05); }
}

@keyframes fog-drift-far {
  0%   { transform: translate3d(0, 0, 0) scale(1.08); }
  50%  { transform: translate3d(3rem, .6rem, 0)  scale(1.07); }
  100% { transform: translate3d(0, 0, 0) scale(1.08); }
}
