@use '../abstracts' as *;

#footer {
  background-image: 
  radial-gradient(120% 80% at 50% 78%, rgba(0, 0, 0, .35) 70%, transparent 100%), 
  linear-gradient(
    to bottom, 
    rgba($color-fog, .25),
    rgba($color-bg-dark, .65)
  ),
  linear-gradient(rgba($color-neon-purple, .12), rgba($color-neon-purple, 0)),
  url('../../assets/images/bg-footer.jpg');

  // Multiply applies the tint to the photo without getting muddy
  background-blend-mode: normal, normal, multiply, normal;
  background-repeat: no-repeat, no-repeat, no-repeat, no-repeat;
  background-position: center, center, center, bottom right;
  background-size: 100% 100%, cover, cover, cover;
  // padding: 0 2rem;
  border-top: 1px solid $color-neon-green;
  position: relative;
  // min-height: 28rem;
  isolation: isolate;
  box-shadow: inset 0 0 1rem 1rem rgba($color-bg-dark, .65);

  .orb {
    position: absolute;
    inset: 0;
    pointer-events: none;
    mix-blend-mode: screen;
    will-change: transform, filter;
  }

  /* ORB #1 — neon green, medium, steady wander */
  .orb-1 {
    background:
      radial-gradient(3px 3px at 22% 38%, rgba($color-neon-green, .92), transparent 60%),
      radial-gradient(1.8rem 1.8rem at 22% 38%, rgba($color-neon-green, .46), transparent 70%);
    filter: drop-shadow(0 0 .6rem $color-neon-green);
    animation:
      cq-path-1 23s cubic-bezier(.4, 0, .2, 1) infinite,
      cq-pulse   7s  ease-in-out                 infinite .2s;
  }

  /* ORB #2 — neon blue, small, quicker, different route */
  .orb-2 {
    background:
      radial-gradient(2px 2px at 72% 68%, rgba($color-neon-blue, .9), transparent 60%),
      radial-gradient(1.4rem 1.4rem at 72% 68%, rgba($color-neon-blue, .50), transparent 70%);
    filter: drop-shadow(0 0 .55rem $color-neon-blue);
    animation:
      cq-path-2 29s cubic-bezier(.4, 0, .2, 1) infinite .35s,
      cq-pulse   8.5s ease-in-out                infinite .6s;
  }

  /* ORB #3 — neon purple, largest halo, more meandering */
  .orb-3 {
    background:
      radial-gradient(3px 3px at 46% 22%, rgba($color-neon-purple, .88), transparent 60%),
      radial-gradient(2.2rem 2.2rem at 46% 22%, rgba($color-neon-purple, .42), transparent 70%);
    filter: drop-shadow(0 0 .7rem $color-neon-purple);
    animation:
      cq-path-3 26s cubic-bezier(.4, 0, .2, 1) infinite .8s,
      cq-pulse   8s  ease-in-out                 infinite .4s;
  }

  /* ORB #4 — softer forest glow (moss), slow drift */
  .orb-4 {
    background:
      radial-gradient(2px 2px at 18% 72%, rgba($color-neon-purple, .85), transparent 60%),
      radial-gradient(1.6rem 1.6rem at 18% 72%, rgba($color-neon-purple, .48), transparent 70%);
    filter: drop-shadow(0 0 .5rem $color-forest-moss);
    animation:
      cq-path-4 33s cubic-bezier(.4, 0, .2, 1) infinite .15s,
      cq-pulse   9.5s ease-in-out                infinite .9s;
  }

  /* Reusable soft “breathing” glow */
  @keyframes cq-pulse {
    0%, 100% { opacity: .95; transform: translateZ(0) scale(1); }
    50%      { opacity: .72; transform: translateZ(0) scale(.96); }
  }

  /* Independent wandering paths (different waypoints) */
  @keyframes cq-path-1 {
    0%   { transform: translate3d(0, 0, 0)           rotate(.2deg); }
    17%  { transform: translate3d(1.2rem, -.6rem, 0) rotate(6deg); }
    36%  { transform: translate3d(2.0rem, .7rem, 0)  rotate(-3deg); }
    54%  { transform: translate3d(.2rem, 1.1rem, 0)  rotate(9deg); }
    73%  { transform: translate3d(-1.1rem, .1rem, 0) rotate(-7deg); }
    91%  { transform: translate3d(-.6rem, -.9rem, 0) rotate(4deg); }
    100% { transform: translate3d(0, 0, 0)           rotate(0); }
  }

  @keyframes cq-path-2 {
    0%   { transform: translate3d(0, 0, 0)            rotate(-.3deg); }
    22%  { transform: translate3d(-1.0rem, .8rem, 0)  rotate(8deg); }
    44%  { transform: translate3d(-.4rem, -1.2rem, 0) rotate(-5deg); }
    66%  { transform: translate3d(1.4rem, .2rem, 0)   rotate(10deg); }
    88%  { transform: translate3d(.9rem, -.5rem, 0)   rotate(-2deg); }
    100% { transform: translate3d(0, 0, 0)            rotate(0); }
  }

  @keyframes cq-path-3 {
    0%   { transform: translate3d(0, 0, 0)           rotate(.2deg); }
    18%  { transform: translate3d(.8rem, 1.0rem, 0)  rotate(-6deg); }
    37%  { transform: translate3d(-1.3rem, .2rem, 0) rotate(5deg); }
    56%  { transform: translate3d(-.6rem, -1.2rem, 0)rotate(-8deg); }
    75%  { transform: translate3d(1.2rem, -.4rem, 0) rotate(7deg); }
    100% { transform: translate3d(0, 0, 0)           rotate(0); }
  }

  @keyframes cq-path-4 {
    0%   { transform: translate3d(0, 0, 0)            rotate(-.1deg); }
    20%  { transform: translate3d(.6rem, .9rem, 0)    rotate(5deg); }
    40%  { transform: translate3d(-1.4rem, .3rem, 0)  rotate(-6deg); }
    60%  { transform: translate3d(-.8rem, -1.0rem, 0) rotate(7deg); }
    80%  { transform: translate3d(1.5rem, -.3rem, 0)  rotate(-4deg); }
    100% { transform: translate3d(0, 0, 0)            rotate(0); }
  }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .orb { animation: none !important; }
  }
}

.footer-columns {
  max-width: 100rem;
  margin-inline: auto;
  grid-template-columns: 1fr; // Mobile first
  padding-inline: clamp(1rem, 3vh, 2rem);
  // justify-content: center;
  gap: 2rem; 
}

.column-f * {
  margin: .6rem 0;
  line-height: 1.5;
}

.copy {
  text-align: center;
}

// Media queries
@media (min-width: $bp-md) {
  .footer-columns {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

@media (min-width: $bp-lg) {
  .footer-columns {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}